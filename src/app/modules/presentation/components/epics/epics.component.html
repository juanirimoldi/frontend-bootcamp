<mat-spinner class="spinner" diameter="50" *ngIf="loading"></mat-spinner>

<section class="body" *ngIf="!loading">
  <mat-accordion >
    <mat-expansion-panel  (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header class="panel">
        <mat-panel-title class="project">
          Project information
        </mat-panel-title>
      </mat-expansion-panel-header>
        <mat-card class="information">
          <p *ngIf="project!=undefined && project.description!=undefined"><b>ID: </b>{{project._id}}</p>
          <p *ngIf="project!=undefined && project.description!=undefined"><b>Description: </b>{{project.description}}</p>
          <p *ngIf="project!=undefined && project.description!=undefined"><b>Members: </b></p>
          <ul class="members">
            <li *ngFor="let member of project.members">
              <p><b>ID: </b>{{member}}</p>
            </li>
          </ul>
        </mat-card>
    </mat-expansion-panel>
  </mat-accordion>
  
  <div class="epics" *ngIf="epics!==undefined && epics.length!=0 && project!==undefined ">
      <mat-card class="epic" *ngFor="let epic of epics" [routerLink]="'/my-projects/'+project.id+'/'+epic.id">
        <mat-card-header class="tittle" *ngIf="epic!=undefined"> 
            <mat-icon class="icon">{{epic.icon}}</mat-icon>
            <mat-icon class="icon" *ngIf="!epic.icon">star</mat-icon>
            <mat-card-title class="name">{{epic.name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content *ngIf="epic!==undefined">
          <p><b>Description: </b>{{epic.description}}</p>
        </mat-card-content>
      </mat-card>
  </div>
  <div class="epics" *ngIf="epics!==undefined && epics.length===0">
    <mat-card class="epic" >
      <mat-card-header class="e-tittle"> 
          <mat-icon class="icon">announcement</mat-icon>
          <mat-card-title class="name">We are sorry</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>No epics assigned to this project!</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button routerLink="/my-projects">My projects</button>
      </mat-card-actions>
    </mat-card>
  </div>

</section>

